{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\utkar\\\\Downloads\\\\mera proj clone\\\\AI-Powered-Dynamic-Web-Personalization-Engine\\\\new proj\\\\dashboard\\\\src\\\\Analytics.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Bar } from \"react-chartjs-2\";\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from \"chart.js\";\n\n// Register required components\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\nfunction getBehaviorData() {\n  let data = [];\n  try {\n    data = JSON.parse(localStorage.getItem(\"user_behavior_data\")) || [];\n  } catch {\n    data = [];\n  }\n  return data;\n}\nfunction processAnalytics(data) {\n  let clickCounts = {\n    sports: 0,\n    politics: 0,\n    tech: 0,\n    other: 0\n  };\n  data.forEach(ev => {\n    var _ev$element, _ev$element$dataset;\n    if (ev.type === \"click\" && (_ev$element = ev.element) !== null && _ev$element !== void 0 && (_ev$element$dataset = _ev$element.dataset) !== null && _ev$element$dataset !== void 0 && _ev$element$dataset.cluster) {\n      clickCounts[ev.element.dataset.cluster]++;\n    }\n  });\n  return clickCounts;\n}\nexport default function Analytics() {\n  _s();\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    setData(getBehaviorData());\n    window.addEventListener(\"storage\", () => setData(getBehaviorData()));\n  }, []);\n  const clickCounts = processAnalytics(data);\n  const chartData = {\n    labels: Object.keys(clickCounts),\n    datasets: [{\n      label: \"Clicks per Section\",\n      data: Object.values(clickCounts),\n      backgroundColor: [\"#FFD700\", \"#4682B4\", \"#8FBC8F\", \"#D2691E\"]\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Analytics\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Bar, {\n      data: chartData\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n      children: JSON.stringify(data, null, 2)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n}\n_s(Analytics, \"IEMTtLVFIuToo7X/raQbJAxzNQU=\");\n_c = Analytics;\nvar _c;\n$RefreshReg$(_c, \"Analytics\");","map":{"version":3,"names":["React","useEffect","useState","Bar","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","jsxDEV","_jsxDEV","register","getBehaviorData","data","JSON","parse","localStorage","getItem","processAnalytics","clickCounts","sports","politics","tech","other","forEach","ev","_ev$element","_ev$element$dataset","type","element","dataset","cluster","Analytics","_s","setData","window","addEventListener","chartData","labels","Object","keys","datasets","label","values","backgroundColor","children","fileName","_jsxFileName","lineNumber","columnNumber","stringify","_c","$RefreshReg$"],"sources":["C:/Users/utkar/Downloads/mera proj clone/AI-Powered-Dynamic-Web-Personalization-Engine/new proj/dashboard/src/Analytics.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  BarElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend\r\n} from \"chart.js\";\r\n\r\n// Register required components\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\r\n\r\nfunction getBehaviorData() {\r\n  let data = [];\r\n  try {\r\n    data = JSON.parse(localStorage.getItem(\"user_behavior_data\")) || [];\r\n  } catch {\r\n    data = [];\r\n  }\r\n  return data;\r\n}\r\n\r\nfunction processAnalytics(data) {\r\n  let clickCounts = { sports: 0, politics: 0, tech: 0, other: 0 };\r\n  data.forEach(ev => {\r\n    if (ev.type === \"click\" && ev.element?.dataset?.cluster) {\r\n      clickCounts[ev.element.dataset.cluster]++;\r\n    }\r\n  });\r\n  return clickCounts;\r\n}\r\n\r\nexport default function Analytics() {\r\n  const [data, setData] = useState([]);\r\n  useEffect(() => {\r\n    setData(getBehaviorData());\r\n    window.addEventListener(\"storage\", () => setData(getBehaviorData()));\r\n  }, []);\r\n\r\n  const clickCounts = processAnalytics(data);\r\n\r\n  const chartData = {\r\n    labels: Object.keys(clickCounts),\r\n    datasets: [\r\n      {\r\n        label: \"Clicks per Section\",\r\n        data: Object.values(clickCounts),\r\n        backgroundColor: [\"#FFD700\", \"#4682B4\", \"#8FBC8F\", \"#D2691E\"]\r\n      }\r\n    ]\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Analytics</h2>\r\n      <Bar data={chartData} />\r\n      <pre>{JSON.stringify(data, null, 2)}</pre>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}